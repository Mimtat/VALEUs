<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>VALEUS — 3‑Column Sankey</title>
  <script src="https://cdn.plot.ly/plotly-2.4.1.min.js"></script>
  <style>
    :root {
      --valeus-blue: #5555FF;
      --valeus-yellow: #FFDF00;
      --valeus-green: #7CCF19;
      --ink: #111827;
      --bg: #ffffff;
    }
    html, body { height: 100%; margin: 0; background: var(--bg); font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: var(--ink); }
    header {
      padding: 16px 18px;
      border-bottom: 1px solid rgba(0,0,0,0.08);
      display: flex; align-items: baseline; gap: 10px; flex-wrap: wrap;
    }
    header h1 { margin: 0; font-size: 18px; font-weight: 700; }
    header .legend { display:flex; gap: 14px; align-items:center; font-size: 13px; }
    .chip { display:inline-flex; align-items:center; gap:6px; }
    .dot { width: 10px; height: 10px; border-radius: 999px; display:inline-block; }
    #chart { width: 100vw; height: calc(100vh - 58px); }
  </style>
</head>
<body>
  <header>
    <h1>VALEUS — Action Domains → Addressees → Kinds of Action</h1>
    <div class="legend" aria-label="Legend">
      <span class="chip"><span class="dot" style="background:var(--valeus-blue)"></span>Action Domain</span>
      <span class="chip"><span class="dot" style="background:var(--valeus-yellow)"></span>Addressee</span>
      <span class="chip"><span class="dot" style="background:var(--valeus-green)"></span>Kind of Action</span>
    </div>
  </header>

  <div id="chart"></div>

  <script>
    const nodeLabels = ["Active Citizenship", "Conflict/War", "Democracy", "Digital Technology", "Energy/Climate/Sustainability", "Human/Fundamental Rights", "International/intercultural Understanding", "Migration", "Trade/economy", "Under discussion", "nothing", "Academic community", "Citizens", "Civil society", "Companies", "Conflict victims", "Demobilized combatants", "EU institutions", "Human Rights Defenders", "Marginalized groups", "Media", "National and international courts", "National political institutions (e.g. government)", "Parliaments", "Public authorities", "Advocacy", "Aid", "Campaign", "Capacity Building", "Education/Literacy", "Monitoring", "Participation", "Peacebuilding", "Protest", "Research", "Socially engaged art", "community building", "engaged art"];
    const nodeColors = ["#5555FF", "#5555FF", "#5555FF", "#5555FF", "#5555FF", "#5555FF", "#5555FF", "#5555FF", "#5555FF", "#5555FF", "#5555FF", "#FFDF00", "#FFDF00", "#FFDF00", "#FFDF00", "#FFDF00", "#FFDF00", "#FFDF00", "#FFDF00", "#FFDF00", "#FFDF00", "#FFDF00", "#FFDF00", "#FFDF00", "#FFDF00", "#7CCF19", "#7CCF19", "#7CCF19", "#7CCF19", "#7CCF19", "#7CCF19", "#7CCF19", "#7CCF19", "#7CCF19", "#7CCF19", "#7CCF19", "#7CCF19", "#7CCF19"];
    const nodeX = [0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99, 0.99];
    const nodeY = [0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.0, 0.07692307692307693, 0.15384615384615385, 0.23076923076923078, 0.3076923076923077, 0.38461538461538464, 0.46153846153846156, 0.5384615384615384, 0.6153846153846154, 0.6923076923076923, 0.7692307692307693, 0.8461538461538461, 0.9230769230769231, 1.0, 0.0, 0.08333333333333333, 0.16666666666666666, 0.25, 0.3333333333333333, 0.4166666666666667, 0.5, 0.5833333333333334, 0.6666666666666666, 0.75, 0.8333333333333334, 0.9166666666666666, 1.0];
    const sources = [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 9, 10, 10, 11, 11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 13, 14, 14, 14, 14, 14, 14, 14, 15, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24];
    const targets = [12, 17, 19, 20, 22, 23, 24, 12, 13, 14, 15, 16, 17, 19, 20, 21, 22, 23, 24, 12, 14, 17, 19, 20, 21, 22, 23, 24, 12, 14, 17, 19, 20, 22, 23, 24, 11, 12, 14, 17, 19, 20, 21, 22, 23, 24, 12, 14, 17, 18, 19, 20, 21, 22, 23, 24, 12, 12, 13, 19, 22, 23, 24, 12, 14, 15, 17, 19, 20, 21, 22, 23, 24, 11, 14, 17, 25, 34, 25, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 37, 25, 26, 28, 29, 30, 33, 34, 28, 28, 29, 25, 26, 28, 29, 30, 33, 34, 25, 28, 30, 33, 34, 25, 28, 29, 30, 33, 34, 37, 25, 28, 29, 30, 33, 34, 25, 28, 29, 30, 33, 34, 25, 28, 29, 30, 33, 34, 25, 28, 29, 30, 33, 34, 25, 28, 29, 30, 33, 34];
    const values  = [1, 1, 1, 1, 1, 1, 1, 5, 1, 1, 1, 1, 3, 5, 2, 2, 2, 2, 2, 8, 1, 7, 3, 3, 3, 10, 10, 10, 4, 1, 2, 1, 2, 3, 3, 3, 1, 4, 1, 3, 1, 2, 3, 5, 5, 5, 9, 1, 6, 1, 2, 3, 5, 10, 10, 10, 1, 2, 1, 2, 2, 2, 2, 6, 1, 1, 3, 2, 1, 3, 6, 6, 6, 1, 1, 1, 1, 1, 5, 1, 13, 8, 1, 1, 1, 2, 9, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 9, 1, 2, 4, 3, 2, 6, 1, 1, 1, 1, 1, 4, 5, 2, 1, 2, 2, 1, 4, 4, 2, 3, 2, 4, 4, 3, 2, 4, 2, 3, 9, 7, 4, 6, 4, 12, 9, 7, 4, 6, 4, 12, 9, 7, 4, 6, 4, 12];
    const linkColors = ["rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(85,85,255,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)", "rgba(255,223,0,0.25)"];

    const data = [{
      type: "sankey",
      arrangement: "snap",
      node: {
        pad: 18,
        thickness: 16,
        line: { color: "rgba(0,0,0,0)", width: 0.5 },
        label: nodeLabels,
        color: nodeColors,
        x: nodeX,
        y: nodeY,
        hovertemplate: "%{label}<extra></extra>"
      },
      link: {
        source: sources,
        target: targets,
        value: values,
        color: linkColors,
        line: { width: 0.2, color: "rgba(0,0,0,0.15)" },
        hovertemplate: "%{value}<extra></extra>"
      }
    }];

    const layout = {
      margin: { l: 10, r: 10, t: 10, b: 10 },
      paper_bgcolor: "white",
      font: { size: 12, color: "#111827" },
    };

    Plotly.newPlot("chart", data, layout, {responsive: true});
  </script>
</body>
</html>
